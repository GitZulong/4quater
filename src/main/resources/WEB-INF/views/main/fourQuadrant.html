<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script src="../miniui/boot.js" type="text/javascript"></script>
<script src="../scripts/jsUtil.js" type="text/javascript"></script>
<!--  <link href="../main/scripts/miniui/themes/bootstrap/skin.css" rel="stylesheet" type="text/css" />
    <link href="../main/scripts/miniui/res/glyphicons-imgs/glyphicons-imgs.min.css" rel="stylesheet"/>-->
<link href="${ctxPath}/scripts/miniui/themes/blue/skin.css" rel="stylesheet" type="text/css" />
<style>
.mini-panel.max {
	position: fixed !important;
	width: 100% !important;
	height: 100% !important;
	left: 0 !important;
	top: 0 !important;
	z-index: 10000;
}

body {
	margin: 0;
	padding: 0;
	border: 0;
	width: 100%;
	height: 100%;
	overflow: hidden;
}
</style>
</head>
<body>

	<div style="">
		<table style="width: 100%; height: 100%; table-layout: fixed;">
			<tr>
				<td style="width: 50%;">
					<div id="p1" class="mini-panel mini-panel-danger"
						title="1.重要又急迫的事  (立即执行，20～25%时间)"
						style="width: 100%; height: 400px;" buttons="max"
						onbuttonclick="onbuttonclick">
						<div class="mini-fit">
							<div id="datagrid1" class="mini-datagrid"
								style="width: 100%; height: 100%;" sizeList="[5,10,20,40]"
								url="${ctxPath}/todaywork/doufuTodayWork/queryPageList" 
								idField="id"  allowResize="true" pageSize="5" dataField="list"  allowCellSelect="true" multiSelect="true"	allowAlternating="true">
								<div property="columns">
									<div type="indexcolumn">序号</div>
									<div field="workContents" id="workContents" allowSort="true"
										width="200" headerAlign="center" vtype="required">
										工作内容简述
									</div>
									<div field="workDetail" allowSort="true" width="400"
					                     headerAlign="center" vtype="required">
					                                                    工作内容详细说明 
				                    </div>
								</div>
							</div>
						</div>
					</div>
				</td>
				<td style="width: 50%;">
					<div id="p2" class="mini-panel mini-panel-info"
						title="2.重要但不紧急的事（按计划去做，65～80%时间）"
						style="width: 100%; height: 400px;" buttons="max"
						onbuttonclick="onbuttonclick">
						<div class="mini-fit">
							<div id="datagrid2" class="mini-datagrid"
								style="width: 100%; height: 100%;" sizeList="[5,10,20,40]"
								url="${ctxPath}/todaywork/doufuTodayWork/queryPageList" idField="id"
								allowResize="true" pageSize="5" dataField="list"
								allowCellSelect="true" multiSelect="true"
								allowAlternating="true">
								<div property="columns">
									<div type="indexcolumn">序号</div>
									<div field="workContents" id="workContents" allowSort="true"
										width="200" headerAlign="center" vtype="required">
										工作内容简述
									</div>
									<div field="workDetail" allowSort="true" width="400"
					                     headerAlign="center" vtype="required">
					                                                    工作内容详细说明 
				                    </div>
								</div>
							</div>
						</div>
					</div>
				</td>

			</tr>
			<tr>
				<td>
					<div title="3.紧急但不重要的事 （尽量别做，15%时间）"
						class="mini-panel mini-panel-warning"
						style="width: 100%; height: 400px;" buttons="max"
						onbuttonclick="onbuttonclick">
						<div class="mini-fit">
							<div id="datagrid3" class="mini-datagrid"
								style="width: 100%; height: 100%;" sizeList="[5,10,20,40]"
								url="${ctxPath}/todaywork/doufuTodayWork/queryPageList" idField="id"
								allowResize="true" pageSize="5" dataField="list"
								allowCellSelect="true" multiSelect="true"
								allowAlternating="true">
								<div property="columns">
									<div type="indexcolumn">序号</div>
									<div field="workContents" id="workContents" allowSort="true"
										width="200" headerAlign="center" vtype="required">
										工作内容简述
									</div>
									<div field="workDetail" allowSort="true" width="400"
					                     headerAlign="center" vtype="required">
					                                                    工作内容详细说明 
				                    </div>

								</div>
							</div>
						</div>
					</div>
				</td>
				<td>
					<div title="4.不紧急也不重要的事 （交付他人，<1%时间）"
						class="mini-panel mini-panel-primary"
						style="width: 100%; height: 400px;" buttons="max"
						onbuttonclick="onbuttonclick">
						<div class="mini-fit">
							<div id="datagrid4" class="mini-datagrid"
								style="width: 100%; height: 100%;" sizeList="[5,10,20,40]"
								url="${ctxPath}/todaywork/doufuTodayWork/queryPageList" idField="id"
								allowResize="true" pageSize="5" dataField="list"
								allowCellSelect="true" multiSelect="true"
								allowAlternating="true">
								<div property="columns">
									<div type="indexcolumn">序号</div>
									<div field="workContents" id="workContents" allowSort="true"
										width="200" headerAlign="center" vtype="required">
										工作内容简述
									</div>
									<div field="workDetail" allowSort="true" width="400"
					                     headerAlign="center" vtype="required">
					                                                    工作内容详细说明 
				                    </div>

								</div>
							</div>
						</div>
					</div>
				</td>

			</tr>
		</table>

	</div>

</body>
</html>
<script>
	mini.parse();
	mini.get("datagrid1").load({
		"reportDate" : today,
		"isImportant" : "1",
		"isEmergency" : "1"
	});
	mini.get("datagrid2").load({
		"reportDate" : today,
		"isImportant" : "1",
		"isEmergency" : "0"
	});
	mini.get("datagrid3").load({
		"reportDate" : today,
		"isImportant" : "0",
		"isEmergency" : "1"
	});
	mini.get("datagrid4").load({
		"reportDate" : today,
		"isImportant" : "0",
		"isEmergency" : "0"
	});
	function onbuttonclick(e) {
		var panel = this;

		if (e.name == "max") {
			if (panel.maxed) {
				restorePanel(panel);
			} else {
				maxPanel(panel);
			}
		}

	}
	function maxPanel(id) {
		var panel = mini.get(id);
		panel.maxed = true;
		$(panel.el).addClass("max");
		$(panel.el).find(".mini-tools-max").addClass("mini-tools-restore");
		mini.layout();
	}
	function restorePanel(id) {
		var panel = mini.get(id);
		panel.maxed = false;
		$(panel.el).find(".mini-tools-max").removeClass("mini-tools-restore");
		$(panel.el).removeClass("max");
		mini.layout();
	}
/* 	function onrelevanceprinciple3(e) {
		var relevanceprinciple = mini.decode($.ajax({
			url : "/main/getPingYinFild?type=doning",
			async : false
		}).responseText);
		for (var i = 0, l = relevanceprinciple.length; i < l; i++) {
			var g = relevanceprinciple[i];
			if (g.id == e.value)
				return g.text;
		}
		return "";
	} */
</script>
